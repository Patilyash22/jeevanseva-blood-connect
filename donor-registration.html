
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register as Donor - JeevanSeva</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Additional styles for registration page */
    .registration-form {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.05);
      max-width: 800px;
      margin: 0 auto;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-family: inherit;
      font-size: 1rem;
    }
    
    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--jeevanseva-red);
      box-shadow: 0 0 0 2px rgba(229, 62, 62, 0.1);
    }
    
    .form-row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .form-row .form-group {
      flex: 1;
      margin-bottom: 0;
    }
    
    .btn-submit {
      background-color: var(--jeevanseva-red);
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    
    .btn-submit:hover {
      background-color: var(--jeevanseva-darkred);
    }
    
    .required-field::after {
      content: "*";
      color: var(--jeevanseva-red);
      margin-left: 3px;
    }
    
    .form-group.error input,
    .form-group.error select {
      border-color: #f56565;
    }
    
    .error-message {
      color: #f56565;
      font-size: 0.875rem;
      margin-top: 5px;
    }
    
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 5px;
      color: white;
      max-width: 350px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
      transform: translateX(150%);
      transition: transform 0.3s ease;
      z-index: 1000;
    }
    
    .toast.show {
      transform: translateX(0);
    }
    
    .toast-success {
      background-color: #48BB78;
    }
    
    .toast-error {
      background-color: #F56565;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <div class="blood-drop"></div>
        <span>JeevanSeva</span>
      </div>
      <nav id="navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="donor-registration.html" class="active">Become a Donor</a></li>
          <li><a href="find-donor.html">Find a Donor</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
        <div class="mobile-menu-btn" onclick="toggleMobileMenu()">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
      </nav>
    </div>
  </header>
  
  <main>
    <section class="page-header" style="background-color: var(--jeevanseva-light); padding: 40px 0;">
      <div class="container">
        <h1 style="color: var(--jeevanseva-darkred);">Register as a Blood Donor</h1>
        <p>Join our community of blood donors and help save lives in your area.</p>
      </div>
    </section>
    
    <section class="registration-section">
      <div class="container">
        <div class="registration-form">
          <form id="donorForm">
            <h2 style="margin-bottom: 20px; color: var(--jeevanseva-darkred);">Personal Information</h2>
            
            <div class="form-row">
              <div class="form-group">
                <label for="name" class="required-field">Full Name</label>
                <input type="text" id="name" name="name" required placeholder="Enter your full name">
              </div>
              
              <div class="form-group">
                <label for="age" class="required-field">Age</label>
                <input type="number" id="age" name="age" required min="18" max="65" placeholder="Age (18-65)">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="gender" class="required-field">Gender</label>
                <select id="gender" name="gender" required>
                  <option value="">Select gender</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="bloodGroup" class="required-field">Blood Group</label>
                <select id="bloodGroup" name="bloodGroup" required>
                  <option value="">Select blood group</option>
                  <option value="A+">A+</option>
                  <option value="A-">A-</option>
                  <option value="B+">B+</option>
                  <option value="B-">B-</option>
                  <option value="AB+">AB+</option>
                  <option value="AB-">AB-</option>
                  <option value="O+">O+</option>
                  <option value="O-">O-</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label for="location" class="required-field">Location</label>
              <input type="text" id="location" name="location" required placeholder="Enter your city or area">
            </div>
            
            <h2 style="margin: 30px 0 20px; color: var(--jeevanseva-darkred);">Contact Information</h2>
            
            <div class="form-row">
              <div class="form-group">
                <label for="phone" class="required-field">Phone Number</label>
                <input type="tel" id="phone" name="phone" required placeholder="10-digit phone number">
              </div>
              
              <div class="form-group">
                <label for="email" class="required-field">Email</label>
                <input type="email" id="email" name="email" required placeholder="Enter your email address">
              </div>
            </div>
            
            <div class="form-group">
              <label>
                <input type="checkbox" id="consent" name="consent" required>
                I consent to be contacted by those in need of blood donation. I understand that my contact information will be visible to users of JeevanSeva.
              </label>
            </div>
            
            <div style="margin-top: 30px; text-align: center;">
              <button type="submit" id="submitBtn" class="btn-submit">Register as Donor</button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <div class="blood-drop"></div>
          <span>JeevanSeva</span>
        </div>
        <p class="tagline">An initiative by VNest Technologies And Platforms Pvt. Ltd.</p>
        <div class="footer-links">
          <div class="link-column">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="index.html">Home</a></li>
              <li><a href="donor-registration.html">Register as Donor</a></li>
              <li><a href="find-donor.html">Find a Donor</a></li>
              <li><a href="about.html">About Us</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
          <div class="link-column">
            <h4>Contact Us</h4>
            <ul>
              <li><a href="tel:9529081894">+91 9529081894</a></li>
              <li><a href="mailto:contact@vnest.tech">contact@vnest.tech</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 JeevanSeva. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const donorForm = document.getElementById('donorForm');
      
      donorForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        if (!validateForm(donorForm)) {
          return;
        }
        
        const formData = {
          name: document.getElementById('name').value.trim(),
          age: parseInt(document.getElementById('age').value),
          gender: document.getElementById('gender').value,
          bloodGroup: document.getElementById('bloodGroup').value,
          location: document.getElementById('location').value.trim(),
          phone: document.getElementById('phone').value.trim(),
          email: document.getElementById('email').value.trim(),
        };
        
        try {
          document.getElementById('submitBtn').disabled = true;
          document.getElementById('submitBtn').textContent = 'Registering...';
          
          const donor = await addDonor(formData);
          
          showToast('Registration successful! Thank you for registering as a donor.', 'success');
          
          // Reset form
          donorForm.reset();
          
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 2000);
        } catch (error) {
          showToast('Registration failed. Please try again later.', 'error');
          console.error('Error:', error);
        } finally {
          document.getElementById('submitBtn').disabled = false;
          document.getElementById('submitBtn').textContent = 'Register as Donor';
        }
      });
    });
  </script>
</body>
</html>
